{"version":3,"sources":["script/array-utils.mjs","script/dom-utils.mjs","assets/localization/ui.json","script/play.mjs"],"names":["getRandomInt","max","Math","floor","random","shuffle","array","i","length","j","_ref","extractRandomElementFrom","coolDownWords","JSON","parse","localStorage","getItem","forEach","element","indexOf","splice","extr","push","shift","setItem","stringify","initializeDom","ui","payload","cards","gameOn","document","createElement","innerText","play","querySelector","appendChild","player","classList","remove","concat","gameSettings","playersCount","add","map","e","createCardElement","content","localizedUi","cardFaceFront","cardFrontParag","title","cardFrontParagSmall","tap","cardFaceBack","cardBackParag","cardBackParagSmall","nextPlayer","card","addEventListener","event","cardClicked","dataset","isRunningTransition","c","target","isRemoved","parentElement","removeChild","contains","isFlipped","count","remainingCards","Array","from","querySelectorAll","module","exports","it","players","spies","play_now","adv_settings","options","topic","spy","en","fr","es","de","_arrayUtils","require","_domUtils","_ui","_interopRequireDefault","obj","__esModule","default","_typeof","o","Symbol","iterator","constructor","prototype","_regeneratorRuntime","t","r","Object","n","hasOwnProperty","defineProperty","value","a","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","_catch","delegateYield","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","test","iter","isArray","len","arr2","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","topics","main","_callee","words","pool","_callee$","_context","spiesCount","lang","window","location","href","notLocalizedUi","fetch","response","json","_pool","topicName","generateCards","onload"],"mappings":"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","file":"play.50f7ec44.js","sourceRoot":"..\\src","sourcesContent":["function getRandomInt(max) {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nexport function shuffle(array) {\r\n  for (let i = array.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n  return array;\r\n}\r\n\r\nexport function extractRandomElementFrom(array) {\r\n  const coolDownWords = JSON.parse(localStorage.getItem(\"cooldown\")) || [];\r\n  if (coolDownWords?.length) {\r\n    coolDownWords.forEach((element) => {\r\n      const i = array.indexOf(element);\r\n      if (i >= 0) {\r\n        array.splice(i, 1);\r\n      }\r\n    });\r\n  }\r\n  array = shuffle(array);\r\n  const extr = array[getRandomInt(array.length)];\r\n  coolDownWords.push(extr);\r\n  if (coolDownWords.length > 20) {\r\n    coolDownWords.shift();\r\n  }\r\n\r\n  localStorage.setItem(\"cooldown\", JSON.stringify(coolDownWords));\r\n  return extr;\r\n}\r\n","export function initializeDom(ui, payload, cards) {\r\n  const gameOn = document.createElement(\"h1\");\r\n  gameOn.innerText = ui.play;\r\n  document.querySelector(\".scene\").appendChild(gameOn);\r\n\r\n  document.querySelector(\".counter_label\").innerText = ui.player;\r\n  document.querySelector(\".counter\").classList.remove(\"complete\");\r\n  document.querySelector(\r\n    \".counter_ratio\",\r\n  ).innerText = `1/${payload.gameSettings.playersCount}`;\r\n  document.querySelector(\".counter\").classList.add(\"hydrated\");\r\n\r\n  cards = cards.map((e) => createCardElement(e, ui));\r\n  cards.forEach((element) => {\r\n    document.querySelector(\".scene\").appendChild(element);\r\n  });\r\n}\r\n\r\nfunction createCardElement(content, localizedUi) {\r\n  //Prepare card front\r\n  const cardFaceFront = document.createElement(\"div\");\r\n  cardFaceFront.classList.add(\"card__face\", \"card__face--front\");\r\n\r\n  const cardFrontParag = document.createElement(\"p\");\r\n  cardFrontParag.innerText = localizedUi.title;\r\n  cardFrontParag.classList.add(\"title\");\r\n\r\n  const cardFrontParagSmall = document.createElement(\"p\");\r\n  cardFrontParagSmall.innerText = localizedUi.tap;\r\n  cardFrontParagSmall.classList.add(\"small_text\");\r\n\r\n  cardFaceFront.appendChild(cardFrontParag);\r\n  cardFaceFront.appendChild(cardFrontParagSmall);\r\n\r\n  //Prepare card back\r\n  const cardFaceBack = document.createElement(\"div\");\r\n  cardFaceBack.classList.add(\"card__face\", \"card__face--back\");\r\n\r\n  const cardBackParag = document.createElement(\"p\");\r\n  cardBackParag.innerText = content;\r\n  cardBackParag.classList.add(\"title\");\r\n\r\n  const cardBackParagSmall = document.createElement(\"p\");\r\n  cardBackParagSmall.innerText = localizedUi.nextPlayer;\r\n  cardBackParagSmall.classList.add(\"small_text\");\r\n\r\n  cardFaceBack.appendChild(cardBackParag);\r\n  cardFaceBack.appendChild(cardBackParagSmall);\r\n\r\n  //Prepare card\r\n  const card = document.createElement(\"div\");\r\n  card.classList.add(\"card\");\r\n\r\n  card.appendChild(cardFaceFront);\r\n  card.appendChild(cardFaceBack);\r\n\r\n  //Click listener\r\n  card.addEventListener(\"click\", (event) => cardClicked(event));\r\n\r\n  //Disable click while animation runs\r\n  card.addEventListener(\r\n    \"transitionstart\",\r\n    () => (card.dataset.isRunningTransition = true),\r\n  );\r\n\r\n  //Enable click after animation is completed and remove previous card from dom\r\n  card.addEventListener(\"transitionend\", (event) => {\r\n    const c = event.target;\r\n    delete c.dataset.isRunningTransition;\r\n    if (c.dataset.isRemoved) {\r\n      c.parentElement.removeChild(c);\r\n    }\r\n  });\r\n\r\n  return card;\r\n}\r\n\r\nfunction cardClicked(event) {\r\n  //Find outer card div\r\n  let card = event.target;\r\n  while (!card.classList.contains(\"card\")) {\r\n    card = card.parentElement;\r\n  }\r\n\r\n  //If animation is running don't do anything\r\n  if (card.dataset.isRunningTransition) {\r\n    return;\r\n  }\r\n\r\n  //If card is yet to be flipped, flip it\r\n  if (!card.dataset.isFlipped) {\r\n    card.dataset.isFlipped = true;\r\n    return;\r\n  }\r\n\r\n  //Otherwise update players count, and remove current card\r\n  const count = JSON.parse(localStorage.getItem(\"payload\")).gameSettings\r\n    .playersCount;\r\n  const remainingCards =\r\n    Array.from(document.querySelectorAll(\".card\")).length - 1;\r\n\r\n  if (count - remainingCards + 1 <= count) {\r\n    document.querySelector(\".counter_ratio\").innerText = `${\r\n      count - remainingCards + 1\r\n    }/${count}`;\r\n  } else {\r\n    //If there's no more cards to draw, remove the counter\r\n    document.querySelector(\".counter\").classList.add(\"complete\");\r\n  }\r\n  card.dataset.isRemoved = true;\r\n}\r\n","module.exports={it:{title:\"Trova la spia\",players:\"Numero di giocatori\",spies:\"Numero di spie\",play_now:\"Gioca ora!\",adv_settings:\"Impostazioni avanzate\",options:[\"Geografia\",\"Luoghi\",\"Nazioni\",\"Animali\",\"Lavori\",\"Oggetti\"],topic:\"Argomenti\",spy:\"Sei tu la spia!\",tap:\"Tocca per pescare una carta\",play:\"Si gioca!\",nextPlayer:\"Tocca di nuovo e passa il telefono al giocatore successivo\",player:\"Giocatore\"},en:{title:\"Find the spy\",players:\"Number of players\",spies:\"Number of spies\",play_now:\"Play now!\",adv_settings:\"Advanced settings\",options:[\"Geography\",\"Locations\",\"Nations\",\"Animals\",\"Jobs\",\"Objects\"],topic:\"Topics\",spy:\"You're the spy!\",tap:\"Tap to draw a card\",play:\"Game on!\",nextPlayer:\"Tap again and give the phone to the next player\",player:\"Player\"},fr:{title:\"Découvrir l'espion\",players:\"Nombre de joueurs\",spies:\"Nombre d'espions\",play_now:\"Jouer maintenant!\",adv_settings:\"Paramètres avancés\",options:[\"Géographie\",\"Lieux\",\"Nations\",\"Animaux\",\"Emplois\",\"Objets\"],topic:\"Sujets\",spy:\"Vous êtes l'espion!\",tap:\"Tapez pour tirer une carte\",play:\"C'est parti!\",nextPlayer:\"Tapez à nouveau et passez le téléphone au joueur suivant\",player:\"Joueur\"},es:{title:\"Descubra al espía\",players:\"Número de jugadores\",spies:\"Número de espías\",play_now:\"Jugar ahora!\",adv_settings:\"Configuración avanzada\",options:[\"Geografía\",\"Lugares\",\"Naciones\",\"Animales\",\"Trabajos\",\"Objetos\"],topic:\"Temas\",spy:\"¡Tú eres el espía!\",tap:\"Toca para robar una carta\",play:\"¡A jugar!\",nextPlayer:\"Toca de nuevo y pasa el teléfono al siguiente jugador\",player:\"Jugador\"},de:{title:\"Finde den Spion\",players:\"Anzahl der Spieler\",spies:\"Anzahl der Spione\",play_now:\"Jetzt spielen!\",adv_settings:\"Erweiterte Einstellungen\",options:[\"Geographie\",\"Orte\",\"Nationen\",\"Tiere\",\"Berufe\",\"Objekte\"],topic:\"Themen\",spy:\"Du bist der Spion!\",tap:\"Antippen, um eine Karte zu ziehen\",play:\"Das Spiel läuft!\",nextPlayer:\"Tippen Sie erneut und geben Sie das Telefon an den nächsten Spieler weiter\",player:\"Spieler\"}};","import { shuffle, extractRandomElementFrom } from \"./array-utils.mjs\";\r\nimport { initializeDom } from \"./dom-utils.mjs\";\r\nimport notLocalizedUi from \"../assets/localization/ui.json\";\r\n\r\nconst topics = {\r\n  0: \"geo\",\r\n  1: \"loc\",\r\n  2: \"nat\",\r\n  3: \"anm\",\r\n  4: \"job\",\r\n  5: \"obj\",\r\n};\r\n\r\nconst main = async () => {\r\n  //If app is not initialized go back to home\r\n  const payload = JSON.parse(localStorage.getItem(\"payload\"));\r\n  if (\r\n    !payload ||\r\n    !payload?.gameSettings.playersCount ||\r\n    !payload?.gameSettings.spiesCount ||\r\n    !payload?.gameSettings.topics ||\r\n    !payload?.lang\r\n  ) {\r\n    window.location.href = \"/index.html\";\r\n  }\r\n\r\n  const ui = notLocalizedUi[payload.lang];\r\n\r\n  const words = await fetch(\r\n    `assets/localization/assets.${payload.lang}.json`,\r\n  ).then((response) => response.json());\r\n  let pool = [];\r\n\r\n  payload.gameSettings.topics.forEach((element) => {\r\n    const topicName = topics[element];\r\n    pool = pool.concat(...words[topicName]);\r\n  });\r\n  const value = extractRandomElementFrom(pool);\r\n  let cards = generateCards(\r\n    payload.gameSettings.playersCount,\r\n    payload.gameSettings.spiesCount,\r\n    value,\r\n    ui.spy,\r\n  );\r\n\r\n  initializeDom(ui, payload, cards);\r\n};\r\n\r\nfunction generateCards(players, spies, value, spy) {\r\n  const cards = [];\r\n\r\n  for (let i = 0; i < players - spies; i++) {\r\n    cards.push(value);\r\n  }\r\n\r\n  for (let j = 0; j < spies; j++) {\r\n    cards.push(spy);\r\n  }\r\n  shuffle(cards);\r\n  return cards;\r\n}\r\n\r\nwindow.onload = main;\r\n"]}