{"version":3,"sources":["script/sliders.mjs"],"names":["init","document","addEventListener","setInputButtonState","handleNumberInput","event","input","target","spyinput","querySelector","max","Math","ceil","value","parseFloat","setInputValue","handleNumberInputBlur","hasAttribute","min","_step","_iterator","_createForOfIteratorHelper","getElementsByClassName","s","n","done","id","length","parent","parentElement","children","onclick","setNumber","disabled","err","e","f","button","dataset","inputId","step","operation","isNaN","newInput","cloneNode","parentBox","getBoundingClientRect","appendChild","style","marginLeft","width","prepend","window","setTimeout","removeChild","onload"],"mappings":"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","file":"sliders.0bc49830.js","sourceRoot":"..\\src","sourcesContent":["function init() {\n  document.addEventListener(\"touchstart\", function () {}, false);\n\n  setInputButtonState();\n}\n\nfunction handleNumberInput(event) {\n  const input = event.target;\n  const spyinput = document.querySelector(\"#spy_count\");\n  spyinput.max = Math.ceil(input.value / 2 - 1);\n  if (parseFloat(spyinput.max) < spyinput.value) {\n    setInputValue(spyinput, spyinput.max);\n  }\n  setInputButtonState();\n}\n\nfunction handleNumberInputBlur(event) {\n  const value = event.target.value;\n\n  if (event.target.hasAttribute(\"min\") && value < parseFloat(event.target.min))\n    event.target.value = event.target.min;\n\n  if (event.target.hasAttribute(\"max\") && value > parseFloat(event.target.max))\n    event.target.value = event.target.max;\n}\n\nfunction setInputButtonState() {\n  const inputs = document.getElementsByClassName(\"number-input-text-box\");\n\n  for (let input of inputs) {\n    if (input.id.length > 0) {\n      // during value transition the old input won't have an id\n      const value = input.value;\n      const parent = input.parentElement.parentElement;\n\n      if (!parent.children[0].onclick) {\n        parent.children[0].onclick = setNumber;\n      }\n      if (!parent.children[2].onclick) {\n        parent.children[2].onclick = setNumber;\n      }\n\n      if (parent.children[0] && input.hasAttribute(\"min\"))\n        parent.children[0].disabled = value <= parseFloat(input.min);\n\n      if (parent.children[2] && input.hasAttribute(\"max\"))\n        parent.children[2].disabled = value >= parseFloat(input.max);\n    }\n  }\n}\n\nfunction setNumber(event) {\n  let button = event.target;\n  let input = document.querySelector(\"#\" + button.dataset.inputId);\n\n  if (input) {\n    let value = parseFloat(input.value);\n    let step = parseFloat(input.dataset.step);\n\n    if (button.dataset.operation === \"decrement\") {\n      value -= isNaN(step) ? 1 : step;\n    } else if (button.dataset.operation === \"increment\") {\n      value += isNaN(step) ? 1 : step;\n    }\n\n    if (input.hasAttribute(\"min\") && value < parseFloat(input.min)) {\n      value = input.min;\n    }\n\n    if (input.hasAttribute(\"max\") && value > parseFloat(input.max)) {\n      value = input.max;\n    }\n\n    if (input.value !== value) {\n      setInputValue(input, value);\n      setInputButtonState();\n    }\n\n    if (button.dataset.inputId === \"players_count\") {\n      handleNumberInput({ target: document.querySelector(\"#players_count\") });\n    }\n  }\n}\n\nfunction setInputValue(input, value) {\n  let newInput = input.cloneNode(true);\n  const parentBox = input.parentElement.getBoundingClientRect();\n\n  input.id = \"\";\n\n  newInput.value = value;\n\n  if (value > input.value) {\n    // right to left\n    input.parentElement.appendChild(newInput);\n    input.style.marginLeft = -parentBox.width + \"px\";\n  } else if (value < input.value) {\n    // left to right\n    newInput.style.marginLeft = -parentBox.width + \"px\";\n    input.parentElement.prepend(newInput);\n    window.setTimeout(function () {\n      newInput.style.marginLeft = 0;\n    }, 20);\n  }\n\n  window.setTimeout(function () {\n    input.parentElement.removeChild(input);\n  }, 250);\n}\n\nwindow.onload = init;\n"]}